<!doctype html>
<html lang="en">

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link href="https://fonts.googleapis.com/css?family=Viga&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap" rel="stylesheet">
	<!-- Bootstrap CSS -->
	<link href="/css/bootstrap.min.css" rel="stylesheet">
	<!--My CSS-->
	<link rel="stylesheet" href="/css/style.css">
	<script type="text/javascript" src="/js/sweetalert.min.js"></script>
	<style>
		.primarycontainer {
			font-family: 'Montserrat', sans-serif;
		}

		.row1 {
			margin-top: 20px;
		}

		.formulir {
			margin-top: 2.3%;
		}

		section {
			min-height: 420px;
		}

		.jumbotron {
			background-image: url(/images/177.jpg);
		}

		.kolom {
			margin-top: 2.5%;
		}

		.gambar1 {
			margin-top: 5%;
		}

		.rowbaru {
			margin: 10px;
		}

		.rownama {
			padding-top: 12px;
		}

		.rowalamat,
		.colkerja {
			padding-bottom: 12px;
		}

		.colnama {
			margin-top: 5px;
		}

		.colnpwp {
			margin-top: 7px;
		}

		.colkerja,
		.coltotal {
			margin-top: 6px;
		}

		.colalamat {
			margin-top: 10px;
		}

		.rowbtn {
			margin-bottom: 15px;
			margin-top: 30px;
		}

		@media (min-width: 992px) {
			.card1 {
				width: 87%;
			}
		}

		.rowutama {
			margin-bottom: 2.8%;
		}
		label:hover{
			cursor: pointer;
		}
		.colkawin{
			margin-top: 8px;
		}
	</style>


	<title>Page 2</title>
</head>

<body>
	<!-- Navbar -->
	<nav class="navbar navbar-expand-lg navbar-light">
		<div class="container">
			<a class="navbar-brand" href="#">E-Pajak</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup"
				aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarNavAltMarkup">
				<div class="navbar-nav ml-auto">
					<a class="nav-item nav-link active" href="/">Home <span class="sr-only">(current)</span></a>
					<a class="nav-item nav-link" href="#funfact">Funfacts</a>
					<a class="nav-item nav-link" href="#contact">Contact</a>
					<a class="nav-item nav-link" href="riwayatTransaksi">Transaksi</a>
					<a class="nav-item btn btn-primary tombol loginbutton" href="login">Login</a>
				</div>
			</div>
		</div>
	</nav>
	<!-- akhir navbar -->


	<!-- Jumbotron -->
	<div class="jumbotron jumbotron-fluid" id="jumbotron">
		<div class="container">
			<h1 class="display-4">Bayar pajak <span>cepat</span><br> dan <span>aman</span> bersama kami</h1>
			<a href="#formulir" class="btn btn-primary tombol">Formulir Pembayaran</a>
		</div>
	</div>

	<!-- Akhir Jumbotron -->

	<!-- Container -->
	<div class="primarycontainer">
		<div class="container">
			<!-- Info panel -->
			<div class="row justify-content-center">
				<div class="col-10 info-panel">
					<div class="row">
						<div class="col-lg">
							<img src="/images/employee.png" alt="Employee" class="float-left">
							<h4>24 Jam</h4>
							<p>Layanan aktif 24 jam.</p>
						</div>
						<div class="col-lg">
							<img src="/images/time.png" alt="Highres" class="float-left">
							<h4>Pemrosesan</h4>
							<p>Proses pembayaran yang sangat cepat dan mudah.</p>
						</div>
						<div class="col-lg">
							<img src="/images/security.png" alt="Security" class="float-left">
							<h4>Keamanan</h4>
							<p>Keamanan data yang sangat terjamin.</p>
						</div>
					</div>
				</div>
			</div>
		</div>

		<section id="funfact" class="funfact">
			<div class="container">
				<div class="row mb-4 pt-4 row1">
					<div class="col text-center">
						<h2>Fun Facts</h2>
					</div>
				</div>
				<div class="row mb-4 justify-content-center">
					<div class="col-md-5">
						<img src="/images/funfact.png" class="img-fluid" alt="Responsive image">
						<p><b>Tahukah anda?</b> bagi wajib pajak yang telat menyampaikan SPT Tahunan, ada sanksi
							administrasi Rp 100 ribu. Peraturan ini tertuang dalam undang undang Nomor 28 Tahun 2007
							tentang Ketentuan Umum dan Tata Cara Perpajakan</p>
						<img src="/images/funfact3.png" class="img-fluid gambar1" alt="Responsive image">
						<p><b>Apakah anda mengetahui?</b> bahwa pajak rokok dipergunakan untuk sumbangan dana kesehatan
							masyarakat sebesar 50% dari total keseluruhan pajak yang dihasilkan oleh rokok lho...</p>
					</div>
					<div class="col-md-5 kolom">
						<img src="/images/funfact2.png" class="img-fluid" alt="Responsive image">
						<p><b>Tau gak sih?</b> bahwa selama ini jika kita memarkirkan kendaraan di pusat perbelanjaan
							kita telah dikenakan pajak parkir yang sudah diakumulasi menjadi tarif parkir yang
							dibayarkan lho sobat pakers...</p>
					</div>
				</div>
			</div>
		</section>
		<section id="formulir" class="formulir bg-light pb-4">
			<div class="container">
				<div class="row mb-4">
					<div class="col text-center formulir">
						<h2>Formulir Pembayaran</h2>
					</div>
				</div>
				<form action="" method="post">
					<div class="row rowutama justify-content-center">
						<div class="card card1">
							<div class="row rowbaru rownama">
								<div class="col-sm-6 colnama">
									<label for="nama" id="namafocus">Nama Lengkap</label>
								</div>
								<div class="col-sm-6">
									<input type="text" class="form-control" id="nama"
										placeholder="Masukkan Nama Anda..." autocomplete="off" required>
								</div>
							</div>
							<hr>
							<div class="row rowbaru">
								<div class="col-sm-6 colnpwp">
									<label for="npwp" id="npwpfocus">NPWP</label>
								</div>
								<div class="col-sm-6">
									<input type="text" class="form-control npwp" onkeypress="return hanyaAngka(event)"
										maxlength="20" id="npwp" placeholder="Masukkan NPWP Anda..." autocomplete="off"
										required>
								</div>
							</div>
							<hr>
							<div class="row rowbaru">
								<div class="col-sm-6 colnama">
									<label for="email" id="emailfocus">Email</label>
								</div>
								<div class="col-sm-6">
									<input type="email" class="form-control" id="email"
										placeholder="Masukkan Email Anda..." autocomplete="off" required>
								</div>
							</div>
							<hr>
							<div class="row rowbaru">
								<div class="col-sm-6 colnpwp">
									<label>Jenis Kelamin</label>
								</div>
								<div class="col-sm-6">
									<div class="form-check">
										<input class="form-check-input" type="radio" name="exampleRadios1" id="kelamin1"
											value="Laki-laki" checked> Laki-laki
									</div>
									<div class="form-check">
										<input class="form-check-input" type="radio" name="exampleRadios1" id="kelamin2"
											value="Perempuan"> Perempuan
									</div>
								</div>
							</div>
							<hr>
							<div class="row rowbaru">
								<div class="col-sm-6 colkerja">
									<label for="kerja" id="kerjafocus">Pekerjaan/Institusi</label>
								</div>
								<div class="col-sm-6">
									<input type="text" class="form-control" id="kerja"
										placeholder="Masukkan Pekerjaan atau Institusi Anda..." autocomplete="off"
										required>
								</div>
							</div>
						</div>
					</div>
					<div class="row rowutama justify-content-center">
						<div class="card card1">
							<div class="row rowbaru rownama">
								<div class="col-sm-6 colkawin">
									<label>Status Perkawinan</label>
								</div>
								<div class="col-sm-6">
									<div class="form-check">
										<input class="form-check-input" type="radio" name="exampleRadios" id="status1"
											value="Lajang" checked> Lajang
									</div>
									<div class="form-check">
										<input class="form-check-input" type="radio" name="exampleRadios" id="status2"
											value="Kawin"> Kawin
									</div>
									<div class="form-check">
										<input class="form-check-input" type="radio" name="exampleRadios" id="status3"
											value="Cerai"> Cerai
									</div>
								</div>
							</div>
							<hr>
							<div class="row rowbaru">
								<div class="col-sm-6 colnpwp">
									<label for="tanggungan" id="tanggunganfocus">Jumlah Tanggungan</label>
								</div>
								<div class="col-sm-6">
									<select class="form-control" id="tanggungan">
										<option>0 Tanggungan</option>
										<option>1 Tanggungan</option>
										<option>2 Tanggungan</option>
										<option>3 atau Lebih Tanggungan</option>
									</select>
								</div>
							</div>
							<hr>
							<div class="row rowbaru">
								<div class="col-sm-6 coltotal">
									<label for="total" id="totalfocus">Total Pajak</label>
								</div>
								<div class="col-sm-6">
									<input type="text" class="form-control" id="total"
										placeholder="Masukkan Total Pajak Anda..." autocomplete="off" required>
								</div>
							</div>
							<hr>
							<div class="row rowbaru rowalamat">
								<div class="col-sm-6 colalamat">
									<label for="alamat" id="alamatfocus">Alamat Lengkap</label>

								</div>
								<div class="col-sm-6">
									<textarea name="pesan" id="alamat" autocomplete="off" class="form-control"
										required></textarea>
								</div>
							</div>
						</div>
					</div>
					<div class="row justify-content-center rowbtn">
						<div class="col-sm-4">
							<button type="submit" name="submit" class="btn btn-primary btn-block">Bayar
								sekarang</button>
						</div>
					</div>
				</form>

			</div>
		</section>



		<section id="contact" class="contact mb-5">
			<div class="container">
				<div class="row pt-4 mb-4">
					<div class="col text-center">
						<h2>Contact Us</h2>
					</div>
				</div>

				<div class="row justify-content-center">
					<div class="col-lg-4">
						<div class="card text-white bg-primary mb-3 text-center">
							<div class="card-body">
								<h5 class="card-title">Hubungi Kami</h5>
								<p class="card-text">Jika anda memiliki keluhan dalam menggunakan website E-Pajak anda
									bisa
									mengisi kolom komentar atau menghubungi salah satu sosial media milik E-Pajak di
									bawah
									ini</p>
							</div>
						</div>
						<ul class="list-group">
							<li class="list-group-item">
								<b>Email:</b> epajak@gmail.com
							</li>
							<li class="list-group-item">
								<b>Instagram:</b> epajak001
							</li>
							<li class="list-group-item">
								<b>Twitter:</b> @epajak001
							</li>
							<li class="list-group-item">
								<b>Facebook:</b> epajakIndonesia
							</li>
						</ul>
					</div>


					<div class="col-lg-6">
						<div class="form-group">
							<label for="Nama">Nama</label>
							<input type="text" class="form-control" id="nama" placeholder="Masukkan Nama Anda..."
								required>
						</div>
						<div class="form-group">
							<label for="email">Email</label>
							<input type="text" class="form-control" id="email" placeholder="Masukkan Email anda..."
								required>
						</div>
						<div class="form-group">
							<label for="telp">No Telp</label>
							<input type="text" class="form-control" id="telp" placeholder="Masukkan No Telp Anda..."
								required>
						</div>
						<div class="form-group">
							<label for="pesan">Pesan</label>
							<textarea name="pesan" id="pesan" class="form-control" required></textarea>
						</div>
						<div class="form-group">
							<button type="submit" class="btn btn-primary">Kirim pesan!</button>
						</div>
					</div>
				</div>
			</div>
		</section>
		<footer class="bg-dark text-white">
			<div class="row pt-3">
				<div class="col text-center">
					<p>Copyright &copy; E-Pajak 2020</p>
				</div>
			</div>
			<!-- <table>
				<tbody id="idcuk">

				</tbody>
			</table> -->
		</footer>
	</div>

	<script src="/socket.io/socket.io.js"></script>
	<script src="https://code.jquery.com/jquery-1.11.1.js"></script>
	<script type="text/javascript">
		var rupiah = document.getElementById('total');
		rupiah.addEventListener('keyup', function (e) {
			// tambahkan 'Rp.' pada saat form di ketik
			// gunakan fungsi formatRupiah() untuk mengubah angka yang di ketik menjadi format angka
			rupiah.value = formatRupiah(this.value, 'Rp. ');
		});

		/* Fungsi formatRupiah */
		function formatRupiah(angka, prefix) {
			var number_string = angka.replace(/[^,\d]/g, '').toString(),
				split = number_string.split(','),
				sisa = split[0].length % 3,
				rupiah = split[0].substr(0, sisa),
				ribuan = split[0].substr(sisa).match(/\d{3}/gi);

			// tambahkan titik jika yang di input sudah menjadi angka ribuan
			if (ribuan) {
				separator = sisa ? '.' : '';
				rupiah += separator + ribuan.join('.');
			}

			rupiah = split[1] != undefined ? rupiah + ',' + split[1] : rupiah;
			return prefix == undefined ? rupiah : (rupiah ? 'Rp. ' + rupiah : '');
		}
	</script>
	<script>
		function hanyaAngka(evt) {
			var charCode = (evt.which) ? evt.which : event.keyCode
			if (charCode > 31 && (charCode < 48 || charCode > 57))

				return false;
			return true;
		}
	</script>
	<script src="/js/jquery.mask.min.js"></script>
	<script>
		$('.npwp').mask('00.000.000.0-000.000');
	</script>

	<script>
		$(document).ready(function () {
			const socket = io();
			// var parent = "";
			var tanggungan = $('select').val();
			$('select').change(function (event) {
				tanggungan = $('select').val();
			});
			$('form').submit(function (e) {
				e.preventDefault();
				var nama = $('#nama').val();
				var npwp = $('#npwp').val();
				var kerja = $('#kerja').val();
				var total = $('#total').val();
				var alamat = $('#alamat').val();
				var email = $('#email').val();
				var status1 = $('#status1:checked').val();
				var status2 = $('#status2:checked').val();
				var status3 = $('#status3:checked').val();
				var statusreal = "";
				if (status1 != undefined) {
					statusreal = status1;
				}
				if (status2 != undefined) {
					statusreal = status2;
				}
				if (status3 != undefined) {
					statusreal = status3;
				}
				var kelamin1 = $('#kelamin1:checked').val();
				var kelamin2 = $('#kelamin2:checked').val();
				var kelaminreal = "";
				if (kelamin1 != undefined) {
					kelaminreal = kelamin1;
				}
				if (kelamin2 != undefined) {
					kelaminreal = kelamin2;
				}
				socket.emit('chat message', nama, npwp, kerja, total, alamat, email, statusreal, kelaminreal,
					tanggungan);
				$('#nama').val('');
				$('#npwp').val('');
				$('#kerja').val('');
				$('#total').val('');
				$('#alamat').val('');
				$('#email').val('');
				$("#status1").prop("checked",true);
				$("#kelamin1").prop("checked",true);
				$('select').val('0 Tanggungan');
				swal("Selamat!", "Anda Berhasil Membayar Pajak", "success");
				// const skill = document.getElementById('idcuk');
				// parent += "<tr><td>AKU SAYANG KAMU</td></tr>";
				// skill.innerHTML = parent;
				return false;
			});
			$("a").on('click', function (event) {
				if (this.hash !== "") {
					event.preventDefault();
					var hash = this.hash;
					$('html, body').animate({
						scrollTop: $(hash).offset().top
					}, 950, function () {
						window.location.hash = hash;
					});
				} // End if
			});
			$('#nama').on('focus', function () {
				$('#namafocus').css('font-weight', 'bold');
			});
			$('#nama').on('blur', function () {
				$('#namafocus').css('font-weight', 'normal');
			});
			$('#npwp').on('focus', function () {
				$('#npwpfocus').css('font-weight', 'bold');
			});
			$('#npwp').on('blur', function () {
				$('#npwpfocus').css('font-weight', 'normal');
			});
			$('#kerja').on('focus', function () {
				$('#kerjafocus').css('font-weight', 'bold');
			});
			$('#kerja').on('blur', function () {
				$('#kerjafocus').css('font-weight', 'normal');
			});
			$('#total').on('focus', function () {
				$('#totalfocus').css('font-weight', 'bold');
			});
			$('#total').on('blur', function () {
				$('#totalfocus').css('font-weight', 'normal');
			});
			$('#alamat').on('focus', function () {
				$('#alamatfocus').css('font-weight', 'bold');
			});
			$('#alamat').on('blur', function () {
				$('#alamatfocus').css('font-weight', 'normal');
			});
			$('#email').on('focus', function () {
				$('#emailfocus').css('font-weight', 'bold');
			});
			$('#email').on('blur', function () {
				$('#emailfocus').css('font-weight', 'normal');
			});
			$('#tanggungan').on('focus', function () {
				$('#tanggunganfocus').css('font-weight', 'bold');
			});
			$('#tanggungan').on('blur', function () {
				$('#tanggunganfocus').css('font-weight', 'normal');
			});
			window.addEventListener('beforeunload', (event) => {
				socket.close();
				// event.preventDefault();
				// event.returnValue = '';
			});



			// $('.card1').click(function () {
			// 	socket.emit('start');
			// });
			// $(window).on('beforeunload', function () {
			// 	socket.close();
			// });
		});
	</script>




















	<!-- Optional JavaScript -->
	<!-- jQuery first, then Popper.js, then Bootstrap JS -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
		integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous">
	</script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
		integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous">
	</script>
</body>

</html>